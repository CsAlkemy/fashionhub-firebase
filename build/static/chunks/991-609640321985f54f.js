"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[991],{5991:function(e,t,n){n.d(t,{Z:function(){return k}});var r=n(5893),s=n(1163);n(7294);var u=n(4302),i=n(7485),a=n(8886),l=n(3549);let c=a.k.AdminRoleEnums,o=(e,t)=>{let n;if(0===Object.keys(t).length)return!1;let r=null==t?void 0:t.userType;if(!r)return!1;switch(e){case c.SUPER_ADMIN:n=r===c.SUPER_ADMIN;break;case c.ADMIN:n=r===c.ADMIN;break;default:n=!1}return n};var m=n(5197),d=e=>{let{status:t}=e;return t?(0,r.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-opacity-50 bg-gray-50",children:(0,r.jsx)(m.Z,{className:"bg-transparent animate-spin text-primary",size:40})}):null},E=n(6501),A=n(9332);function f(e){let{title:t,description:n}=e;return(0,A.usePathname)().split("/")[1],(0,r.jsxs)(r.Fragment,{children:[t&&(0,r.jsx)("div",{className:"mb-1 mr-3 font-bold text-md",children:t}),n&&(0,r.jsx)("span",{children:n})]})}var h=n(2127),p=n(8527);let N=a.k.AdminRoleEnums;N.SUPER_ADMIN,N.SUPER_ADMIN,N.ADMIN,N.ADMIN;var k=e=>{let{authRequire:t,children:n,role:a,isVerified:c}=e,{asPath:m,replace:A,isReady:N}=(0,s.useRouter)(),[k,x]=(0,u.Z)(!1),M=(0,l.Gd)();return((0,i.Z)(()=>{(async()=>{let e=M&&Object.keys(M).length;t&&!e?A("/admin/auth").catch():!t&&e?A("/admin").catch():e&&!o(M.userType,M)?(function(e){let{title:t,description:n,id:s="1",position:u="bottom-right",duration:i=4e3,type:a="success"}=e,l={duration:i,position:u,id:s,className:(0,h.c)("!bg-green-600 !text-white",{"!bg-destructive":"error"===a})};E.ZP[a](e=>(0,r.jsxs)("div",{className:"relative ml-3",children:[(0,r.jsx)("span",{onClick:()=>E.ZP.dismiss(e.id),className:"absolute w-4 h-4 cursor-pointer -top-1 -right-3",children:(0,r.jsx)(p.Z,{})}),(0,r.jsx)(f,{title:t,description:n})]}),l)}({title:"You are not authorized to access this page",type:"error"}),A("/403").catch()):x(!0)})()},[t]),k&&N)?n:(0,r.jsx)(d,{status:!0})}},8886:function(e,t,n){var r,s,u,i,a;n.d(t,{k:function(){return r}}),(u=(s=r||(r={})).UserRolesEnum||(s.UserRolesEnum={})).ADMIN="admin",u.EMPLOYER="employer",u.JOB_SEEKER="job_seeker",u.ALL="all",(i=s.TokenEnum||(s.TokenEnum={})).ACCESS_TOKEN="x-access-token",i.TEMP_ACCESS_TOKEN="temp-access-token",i.REFRESH_TOKEN="x-refresh-token",(s.ApiModuleEnum||(s.ApiModuleEnum={})).AUTH="auth",(s.AdminApiModuleEnum||(s.AdminApiModuleEnum={})).AUTH="auth",(a=s.AdminRoleEnums||(s.AdminRoleEnums={})).SUPER_ADMIN="super_admin",a.ADMIN="admin"},3549:function(e,t,n){n.d(t,{GI:function(){return l},Gd:function(){return i},yB:function(){return a}});var r=n(1202),s=n(8886);n(3454);let u=s.k.TokenEnum;s.k.UserRolesEnum;let i=()=>{let e;try{e=(0,r.default)(localStorage.getItem(u.ACCESS_TOKEN))}catch(t){e={}}return e},a=(e,t)=>e.split(".").reduce(function(e,t){return e?e[t]:null},t||self);function l(e){return/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)(?=.*[^\w\s])[^\s]{8,}$/.test(e)}},2127:function(e,t,n){n.d(t,{c:function(){return u}});var r=n(512),s=n(8388);function u(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return(0,s.m6)((0,r.W)(t))}}}]);